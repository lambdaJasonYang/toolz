var Re={value:()=>{}};function He(){for(var e=0,n=arguments.length,t={},r;e<n;++e){if(!(r=arguments[e]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new O(t)}function O(e){this._=e}function Ee(e,n){return e.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}O.prototype=He.prototype={constructor:O,on:function(e,n){var t=this._,r=Ee(e+"",t),i,f=-1,s=r.length;if(arguments.length<2){for(;++f<s;)if((i=(e=r[f]).type)&&(i=Se(t[i],e.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++f<s;)if(i=(e=r[f]).type)t[i]=fe(t[i],e.name,n);else if(n==null)for(i in t)t[i]=fe(t[i],e.name,null);return this},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new O(e)},call:function(e,n){if((i=arguments.length-2)>0)for(var t=new Array(i),r=0,i,f;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(f=this._[e],r=0,i=f.length;r<i;++r)f[r].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,f=r.length;i<f;++i)r[i].value.apply(n,t)}};function Se(e,n){for(var t=0,r=e.length,i;t<r;++t)if((i=e[t]).name===n)return i.value}function fe(e,n,t){for(var r=0,i=e.length;r<i;++r)if(e[r].name===n){e[r]=Re,e=e.slice(0,r).concat(e.slice(r+1));break}return t!=null&&e.push({name:n,value:t}),e}function te(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function we(e,n){var t=Object.create(e.prototype);for(var r in n)t[r]=n[r];return t}function B(){}var S=.7,D=1/S,v="\\s*([+-]?\\d+)\\s*",X="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",b="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xe=/^#([0-9a-f]{3,8})$/,qe=new RegExp(`^rgb\\(${v},${v},${v}\\)$`),Ie=new RegExp(`^rgb\\(${b},${b},${b}\\)$`),Be=new RegExp(`^rgba\\(${v},${v},${v},${X}\\)$`),Te=new RegExp(`^rgba\\(${b},${b},${b},${X}\\)$`),Ce=new RegExp(`^hsl\\(${X},${b},${b}\\)$`),je=new RegExp(`^hsla\\(${X},${b},${b},${X}\\)$`),se={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};te(B,re,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oe,formatHex:oe,formatHex8:Oe,formatHsl:Ye,formatRgb:le,toString:le});function oe(){return this.rgb().formatHex()}function Oe(){return this.rgb().formatHex8()}function Ye(){return me(this).formatHsl()}function le(){return this.rgb().formatRgb()}function re(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=Xe.exec(e))?(t=n[1].length,n=parseInt(n[1],16),t===6?ue(n):t===3?new w(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):t===8?T(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):t===4?T(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=qe.exec(e))?new w(n[1],n[2],n[3],1):(n=Ie.exec(e))?new w(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Be.exec(e))?T(n[1],n[2],n[3],n[4]):(n=Te.exec(e))?T(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Ce.exec(e))?xe(n[1],n[2]/100,n[3]/100,1):(n=je.exec(e))?xe(n[1],n[2]/100,n[3]/100,n[4]):se.hasOwnProperty(e)?ue(se[e]):e==="transparent"?new w(NaN,NaN,NaN,0):null}function ue(e){return new w(e>>16&255,e>>8&255,e&255,1)}function T(e,n,t,r){return r<=0&&(e=n=t=NaN),new w(e,n,t,r)}function De(e){return e instanceof B||(e=re(e)),e?(e=e.rgb(),new w(e.r,e.g,e.b,e.opacity)):new w}function P(e,n,t,r){return arguments.length===1?De(e):new w(e,n,t,r??1)}function w(e,n,t,r){this.r=+e,this.g=+n,this.b=+t,this.opacity=+r}te(w,P,we(B,{brighter(e){return e=e==null?D:Math.pow(D,e),new w(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?S:Math.pow(S,e),new w(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new w(k(this.r),k(this.g),k(this.b),F(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ce,formatHex:ce,formatHex8:Pe,formatRgb:he,toString:he}));function ce(){return`#${$(this.r)}${$(this.g)}${$(this.b)}`}function Pe(){return`#${$(this.r)}${$(this.g)}${$(this.b)}${$((isNaN(this.opacity)?1:this.opacity)*255)}`}function he(){const e=F(this.opacity);return`${e===1?"rgb(":"rgba("}${k(this.r)}, ${k(this.g)}, ${k(this.b)}${e===1?")":`, ${e})`}`}function F(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function k(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $(e){return e=k(e),(e<16?"0":"")+e.toString(16)}function xe(e,n,t,r){return r<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new m(e,n,t,r)}function me(e){if(e instanceof m)return new m(e.h,e.s,e.l,e.opacity);if(e instanceof B||(e=re(e)),!e)return new m;if(e instanceof m)return e;e=e.rgb();var n=e.r/255,t=e.g/255,r=e.b/255,i=Math.min(n,t,r),f=Math.max(n,t,r),s=NaN,o=f-i,h=(f+i)/2;return o?(n===f?s=(t-r)/o+(t<r)*6:t===f?s=(r-n)/o+2:s=(n-t)/o+4,o/=h<.5?f+i:2-f-i,s*=60):o=h>0&&h<1?0:s,new m(s,o,h,e.opacity)}function Fe(e,n,t,r){return arguments.length===1?me(e):new m(e,n,t,r??1)}function m(e,n,t,r){this.h=+e,this.s=+n,this.l=+t,this.opacity=+r}te(m,Fe,we(B,{brighter(e){return e=e==null?D:Math.pow(D,e),new m(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?S:Math.pow(S,e),new m(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*n,i=2*t-r;return new w(K(e>=240?e-240:e+120,i,r),K(e,i,r),K(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new m(de(this.h),C(this.s),C(this.l),F(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=F(this.opacity);return`${e===1?"hsl(":"hsla("}${de(this.h)}, ${C(this.s)*100}%, ${C(this.l)*100}%${e===1?")":`, ${e})`}`}}));function de(e){return e=(e||0)%360,e<0?e+360:e}function C(e){return Math.max(0,Math.min(1,e||0))}function K(e,n,t){return(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)*255}function be(e,n,t,r,i){var f=e*e,s=f*e;return((1-3*e+3*f-s)*n+(4-6*f+3*s)*t+(1+3*e+3*f-3*s)*r+s*i)/6}function Le(e){var n=e.length-1;return function(t){var r=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),i=e[r],f=e[r+1],s=r>0?e[r-1]:2*i-f,o=r<n-1?e[r+2]:2*f-i;return be((t-r/n)*n,s,i,f,o)}}function We(e){var n=e.length;return function(t){var r=Math.floor(((t%=1)<0?++t:t)*n),i=e[(r+n-1)%n],f=e[r%n],s=e[(r+1)%n],o=e[(r+2)%n];return be((t-r/n)*n,i,f,s,o)}}const ie=e=>()=>e;function ye(e,n){return function(t){return e+t*n}}function Ge(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(r){return Math.pow(e+r*n,t)}}function Hn(e,n){var t=n-e;return t?ye(e,t>180||t<-180?t-360*Math.round(t/360):t):ie(isNaN(e)?n:e)}function Ke(e){return(e=+e)==1?_e:function(n,t){return t-n?Ge(n,t,e):ie(isNaN(n)?t:n)}}function _e(e,n){var t=n-e;return t?ye(e,t):ie(isNaN(e)?n:e)}const En=function e(n){var t=Ke(n);function r(i,f){var s=t((i=P(i)).r,(f=P(f)).r),o=t(i.g,f.g),h=t(i.b,f.b),a=_e(i.opacity,f.opacity);return function(l){return i.r=s(l),i.g=o(l),i.b=h(l),i.opacity=a(l),i+""}}return r.gamma=e,r}(1);function $e(e){return function(n){var t=n.length,r=new Array(t),i=new Array(t),f=new Array(t),s,o;for(s=0;s<t;++s)o=P(n[s]),r[s]=o.r||0,i[s]=o.g||0,f[s]=o.b||0;return r=e(r),i=e(i),f=e(f),o.opacity=1,function(h){return o.r=r(h),o.g=i(h),o.b=f(h),o+""}}}var Sn=$e(Le),Xn=$e(We);function _(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}var U=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,V=new RegExp(U.source,"g");function Ve(e){return function(){return e}}function Je(e){return function(n){return e(n)+""}}function qn(e,n){var t=U.lastIndex=V.lastIndex=0,r,i,f,s=-1,o=[],h=[];for(e=e+"",n=n+"";(r=U.exec(e))&&(i=V.exec(n));)(f=i.index)>t&&(f=n.slice(t,f),o[s]?o[s]+=f:o[++s]=f),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,h.push({i:s,x:_(r,i)})),t=V.lastIndex;return t<n.length&&(f=n.slice(t),o[s]?o[s]+=f:o[++s]=f),o.length<2?h[0]?Je(h[0].x):Ve(n):(n=h.length,function(a){for(var l=0,c;l<n;++l)o[(c=h[l]).i]=c.x(a);return o.join("")})}var ge=180/Math.PI,Z={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ke(e,n,t,r,i,f){var s,o,h;return(s=Math.sqrt(e*e+n*n))&&(e/=s,n/=s),(h=e*t+n*r)&&(t-=e*h,r-=n*h),(o=Math.sqrt(t*t+r*r))&&(t/=o,r/=o,h/=o),e*r<n*t&&(e=-e,n=-n,h=-h,s=-s),{translateX:i,translateY:f,rotate:Math.atan2(n,e)*ge,skewX:Math.atan(h)*ge,scaleX:s,scaleY:o}}var j;function Qe(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?Z:ke(n.a,n.b,n.c,n.d,n.e,n.f)}function Ue(e){return e==null||(j||(j=document.createElementNS("http://www.w3.org/2000/svg","g")),j.setAttribute("transform",e),!(e=j.transform.baseVal.consolidate()))?Z:(e=e.matrix,ke(e.a,e.b,e.c,e.d,e.e,e.f))}function Ne(e,n,t,r){function i(a){return a.length?a.pop()+" ":""}function f(a,l,c,u,x,d){if(a!==c||l!==u){var g=x.push("translate(",null,n,null,t);d.push({i:g-4,x:_(a,c)},{i:g-2,x:_(l,u)})}else(c||u)&&x.push("translate("+c+n+u+t)}function s(a,l,c,u){a!==l?(a-l>180?l+=360:l-a>180&&(a+=360),u.push({i:c.push(i(c)+"rotate(",null,r)-2,x:_(a,l)})):l&&c.push(i(c)+"rotate("+l+r)}function o(a,l,c,u){a!==l?u.push({i:c.push(i(c)+"skewX(",null,r)-2,x:_(a,l)}):l&&c.push(i(c)+"skewX("+l+r)}function h(a,l,c,u,x,d){if(a!==c||l!==u){var g=x.push(i(x)+"scale(",null,",",null,")");d.push({i:g-4,x:_(a,c)},{i:g-2,x:_(l,u)})}else(c!==1||u!==1)&&x.push(i(x)+"scale("+c+","+u+")")}return function(a,l){var c=[],u=[];return a=e(a),l=e(l),f(a.translateX,a.translateY,l.translateX,l.translateY,c,u),s(a.rotate,l.rotate,c,u),o(a.skewX,l.skewX,c,u),h(a.scaleX,a.scaleY,l.scaleX,l.scaleY,c,u),a=l=null,function(x){for(var d=-1,g=u.length,y;++d<g;)c[(y=u[d]).i]=y.x(x);return c.join("")}}}var In=Ne(Qe,"px, ","px)","deg)"),Bn=Ne(Ue,", ",")",")"),M=0,H=0,R=0,ve=1e3,L,E,W=0,N=0,G=0,q=typeof performance=="object"&&performance.now?performance:Date,Me=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ae(){return N||(Me(Ze),N=q.now()+G)}function Ze(){N=0}function ee(){this._call=this._time=this._next=null}ee.prototype=en.prototype={constructor:ee,restart:function(e,n,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?Ae():+t)+(n==null?0:+n),!this._next&&E!==this&&(E?E._next=this:L=this,E=this),this._call=e,this._time=t,ne()},stop:function(){this._call&&(this._call=null,this._time=1/0,ne())}};function en(e,n,t){var r=new ee;return r.restart(e,n,t),r}function nn(){Ae(),++M;for(var e=L,n;e;)(n=N-e._time)>=0&&e._call.call(void 0,n),e=e._next;--M}function pe(){N=(W=q.now())+G,M=H=0;try{nn()}finally{M=0,rn(),N=0}}function tn(){var e=q.now(),n=e-W;n>ve&&(G-=n,W=e)}function rn(){for(var e,n=L,t,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:L=t);E=e,ne(r)}function ne(e){if(!M){H&&(H=clearTimeout(H));var n=e-N;n>24?(e<1/0&&(H=setTimeout(pe,e-q.now()-G)),R&&(R=clearInterval(R))):(R||(W=q.now(),R=setInterval(tn,ve)),M=1,Me(pe))}}function an(e){var n=0,t=e.children,r=t&&t.length;if(!r)n=1;else for(;--r>=0;)n+=t[r].value;e.value=n}function fn(){return this.eachAfter(an)}function sn(e,n){let t=-1;for(const r of this)e.call(n,r,++t,this);return this}function on(e,n){for(var t=this,r=[t],i,f,s=-1;t=r.pop();)if(e.call(n,t,++s,this),i=t.children)for(f=i.length-1;f>=0;--f)r.push(i[f]);return this}function ln(e,n){for(var t=this,r=[t],i=[],f,s,o,h=-1;t=r.pop();)if(i.push(t),f=t.children)for(s=0,o=f.length;s<o;++s)r.push(f[s]);for(;t=i.pop();)e.call(n,t,++h,this);return this}function un(e,n){let t=-1;for(const r of this)if(e.call(n,r,++t,this))return r}function cn(e){return this.eachAfter(function(n){for(var t=+e(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)t+=r[i].value;n.value=t})}function hn(e){return this.eachBefore(function(n){n.children&&n.children.sort(e)})}function xn(e){for(var n=this,t=dn(n,e),r=[n];n!==t;)n=n.parent,r.push(n);for(var i=r.length;e!==t;)r.splice(i,0,e),e=e.parent;return r}function dn(e,n){if(e===n)return e;var t=e.ancestors(),r=n.ancestors(),i=null;for(e=t.pop(),n=r.pop();e===n;)i=e,e=t.pop(),n=r.pop();return i}function gn(){for(var e=this,n=[e];e=e.parent;)n.push(e);return n}function pn(){return Array.from(this)}function wn(){var e=[];return this.eachBefore(function(n){n.children||e.push(n)}),e}function mn(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n}function*bn(){var e=this,n,t=[e],r,i,f;do for(n=t.reverse(),t=[];e=n.pop();)if(yield e,r=e.children)for(i=0,f=r.length;i<f;++i)t.push(r[i]);while(t.length)}function ze(e,n){e instanceof Map?(e=[void 0,e],n===void 0&&(n=$n)):n===void 0&&(n=_n);for(var t=new I(e),r,i=[t],f,s,o,h;r=i.pop();)if((s=n(r.data))&&(h=(s=Array.from(s)).length))for(r.children=s,o=h-1;o>=0;--o)i.push(f=s[o]=new I(s[o])),f.parent=r,f.depth=r.depth+1;return t.eachBefore(Nn)}function yn(){return ze(this).eachBefore(kn)}function _n(e){return e.children}function $n(e){return Array.isArray(e)?e[1]:null}function kn(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Nn(e){var n=0;do e.height=n;while((e=e.parent)&&e.height<++n)}function I(e){this.data=e,this.depth=this.height=0,this.parent=null}I.prototype=ze.prototype={constructor:I,count:fn,each:sn,eachAfter:ln,eachBefore:on,find:un,sum:cn,sort:hn,path:xn,ancestors:gn,descendants:pn,leaves:wn,links:mn,copy:yn,[Symbol.iterator]:bn};function vn(e,n){return e.parent===n.parent?1:2}function J(e){var n=e.children;return n?n[0]:e.t}function Q(e){var n=e.children;return n?n[n.length-1]:e.t}function Mn(e,n,t){var r=t/(n.i-e.i);n.c-=r,n.s+=t,e.c+=r,n.z+=t,n.m+=t}function An(e){for(var n=0,t=0,r=e.children,i=r.length,f;--i>=0;)f=r[i],f.z+=n,f.m+=n,n+=f.s+(t+=f.c)}function zn(e,n,t){return e.a.parent===n.parent?e.a:t}function Y(e,n){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}Y.prototype=Object.create(I.prototype);function Rn(e){for(var n=new Y(e,0),t,r=[n],i,f,s,o;t=r.pop();)if(f=t._.children)for(t.children=new Array(o=f.length),s=o-1;s>=0;--s)r.push(i=t.children[s]=new Y(f[s],s)),i.parent=t;return(n.parent=new Y(null,0)).children=[n],n}function Tn(){var e=vn,n=1,t=1,r=null;function i(a){var l=Rn(a);if(l.eachAfter(f),l.parent.m=-l.z,l.eachBefore(s),r)a.eachBefore(h);else{var c=a,u=a,x=a;a.eachBefore(function(p){p.x<c.x&&(c=p),p.x>u.x&&(u=p),p.depth>x.depth&&(x=p)});var d=c===u?1:e(c,u)/2,g=d-c.x,y=n/(u.x+d+g),A=t/(x.depth||1);a.eachBefore(function(p){p.x=(p.x+g)*y,p.y=p.depth*A})}return a}function f(a){var l=a.children,c=a.parent.children,u=a.i?c[a.i-1]:null;if(l){An(a);var x=(l[0].z+l[l.length-1].z)/2;u?(a.z=u.z+e(a._,u._),a.m=a.z-x):a.z=x}else u&&(a.z=u.z+e(a._,u._));a.parent.A=o(a,u,a.parent.A||c[0])}function s(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function o(a,l,c){if(l){for(var u=a,x=a,d=l,g=u.parent.children[0],y=u.m,A=x.m,p=d.m,ae=g.m,z;d=Q(d),u=J(u),d&&u;)g=J(g),x=Q(x),x.a=a,z=d.z+p-u.z-y+e(d._,u._),z>0&&(Mn(zn(d,a,c),a,z),y+=z,A+=z),p+=d.m,y+=u.m,ae+=g.m,A+=x.m;d&&!Q(x)&&(x.t=d,x.m+=p-A),u&&!J(g)&&(g.t=u,g.m+=y-ae,c=a)}return c}function h(a){a.x*=n,a.y=a.depth*t}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=!1,n=+a[0],t=+a[1],i):r?null:[n,t]},i.nodeSize=function(a){return arguments.length?(r=!0,n=+a[0],t=+a[1],i):r?[n,t]:null},i}export{B as C,I as N,w as R,ee as T,En as a,qn as b,re as c,He as d,Bn as e,In as f,Tn as g,ze as h,_ as i,te as j,we as k,D as l,S as m,Ae as n,ie as o,Hn as p,Fe as q,De as r,_e as s,en as t,Le as u,We as v,Sn as w,Xn as x,Nn as y,P as z};
